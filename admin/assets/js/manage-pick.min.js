var ManagePicks=function(){var c=function(g){if(true===g){jQuery("#manage-picks-spinner").show()}else{jQuery("#manage-picks-spinner").hide()}};var f=function(){jQuery("#yearmonth").datepicker({dateFormat:"yy-mm",defaultDate:"today",changeMonth:true,changeYear:true,showButtonPanel:true,onClose:function(k,i){var g=function(){return(jQuery("#ui-datepicker-div").html().indexOf("ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all ui-state-hover")>-1)};if(g()){var j=jQuery("#ui-datepicker-div .ui-datepicker-month :selected").val();var h=jQuery("#ui-datepicker-div .ui-datepicker-year :selected").val();jQuery(this).datepicker("setDate",new Date(h,j,1)).trigger("change");jQuery(".date-picker").focusout()}},beforeShow:function(g,h){if((datestr=jQuery(this).val()).length>0){year=datestr.substring(datestr.length-4,datestr.length);month=datestr.substring(0,2);jQuery(this).datepicker("option","defaultDate",new Date(year,month-1,1));jQuery(this).datepicker("setDate",new Date(year,month-1,1))}}}).datepicker("setDate",new Date())};var b=function(){var g=jQuery("#dt-picks");var h=g.DataTable({responsive:true,dom:"<'row'<'col-md-6 col-sm-12'l><'col-md-6 col-sm-12'f>><'row'<'col-xs-12'r><'col-xs-12't>><'row'<'col-md-5 col-sm-12'i><'col-md-7 col-sm-12'p>>",lengthMenu:[[1,5,10,25,50,75,100,-1],[1,5,10,25,50,75,100,"todos los"]],pageLength:10,language:{decimal:",",thousands:".",loadingRecords:" Cargando picks... ",processing:" Cargando picks... ",lengthMenu:"Mostrar _MENU_ picks",emptyTable:"No hay picks disponibles",zeroRecords:"No se encontraron picks",info:"Mostrando picks del _START_ al _END_ de un total de _TOTAL_",infoFiltered:"(filtrado de un total de _MAX_ picks)",infoEmpty:"No hay picks para mostrar",infoPostFix:"",paginate:{previous:"<<",next:">>",last:">>>>",first:"<<<<"},search:"Buscar por:"},processing:true,deferRender:true,serverSide:false,searching:true,paging:true,order:[1,"asc"],columns:[{data:"id",className:"never"},{data:{_:"fecha.display",sort:"fecha.sort"},className:"all"},{data:{_:"evento.display",sort:"evento.sort"},className:"all","class":"text-right"},{data:"cuota",className:"all","class":"text-center",searchable:false},{data:"stake",className:"all","class":"text-center",searchable:false},{data:"ganancia",className:"all","class":"text-center",searchable:false},{data:{_:"resultado.display",sort:"resultado.sort"},className:"all","class":"text-center"},{data:"accion",className:"not-mobile","class":"text-left",sortable:false,searchable:false}],columnDefs:[{visible:false,targets:[0]}]});new jQuery.fn.dataTable.FixedHeader(h)};var e=function(){var i=jQuery("#tipsters").val();var g=jQuery("#yearmonth").val();var h=wpApiSettings.root+"tipster-tap/v4/picks/"+i+"/"+g;jQuery.ajax({url:h,cache:false,dataType:"json",beforeSend:function(){c(true)},success:function(j){jQuery("#dt-picks").DataTable().clear().rows.add(j.data).draw();c(false)}})};var d=function(){jQuery("#picks-form-filter").on("click","#btnFilter",e)};var a=function(){jQuery("select#tipsters").each(function(){e()}).change(function(){e()})};return{init:function(){f();b();d();a();e()}}}();jQuery(document).ready(function(){ManagePicks.init()});